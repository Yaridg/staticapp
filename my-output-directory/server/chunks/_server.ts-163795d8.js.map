{"version":3,"file":"_server.ts-163795d8.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/admin/forms/_server.ts.js"],"sourcesContent":["import { d as db_connect } from \"../../../../chunks/database.js\";\nimport { j as json } from \"../../../../chunks/index2.js\";\nconst POST = async ({ request }) => {\n  try {\n    const db_client = await db_connect(\"vico_db\");\n    const formData = await request.json();\n    const formName = formData[0].formName;\n    let [, ...formFields] = formData;\n    await db_client.createCollection(formName);\n    const collection = db_client.collection(formName);\n    for (const obj of formFields) {\n      await collection.insertOne(obj);\n    }\n    return json(\"success\");\n  } catch (error) {\n    return json(\"error\");\n  }\n};\nexport {\n  POST\n};\n"],"names":[],"mappings":";;;;;AAEK,MAAC,IAAI,GAAG,OAAO,EAAE,OAAO,EAAE,KAAK;AACpC,EAAE,IAAI;AACN,IAAI,MAAM,SAAS,GAAG,MAAM,UAAU,CAAC,SAAS,CAAC,CAAC;AAClD,IAAI,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE,CAAC;AAC1C,IAAI,MAAM,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;AAC1C,IAAI,IAAI,GAAG,GAAG,UAAU,CAAC,GAAG,QAAQ,CAAC;AACrC,IAAI,MAAM,SAAS,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;AAC/C,IAAI,MAAM,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;AACtD,IAAI,KAAK,MAAM,GAAG,IAAI,UAAU,EAAE;AAClC,MAAM,MAAM,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;AACtC,KAAK;AACL,IAAI,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC;AAC3B,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC;AACzB,GAAG;AACH;;;;"}